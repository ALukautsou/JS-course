<!DOCTYPE html>
<html>
<body>

<div id="wrapper">
    <div data-tabname="one">Tab one</div>
    <div data-tabname="two">Tab two</div>
    <div data-tabname="three">Tab three</div>
</div>
<script>
    function asTabs(node) {
        var buttonList = document.createElement("div");
        var tabs = [];
        for (var i = 0, j = -1; i < node.childNodes.length; i++) {
            var child = node.childNodes[i];
            if (child.nodeType === document.ELEMENT_NODE) {
                tabs.push(child);
                j++;    
                var button = document.createElement("button");
                var buttonText = document.createTextNode(child.dataset.tabname);
                button.appendChild(buttonText);
                buttonList.appendChild(button);
                button.addEventListener("click", (function(j) {
                    return function() {
                        selectTab(j);
                    }
                })(j));
            }
        }
        node.insertBefore(buttonList, node.firstChild);

        function selectTab(index) {
            tabs.forEach(function(tab, i) {
                index === i ? tab.style.display = "" : tab.style.display = "none";
                buttonList.childNodes[i].style.marginRight = "3px";
                index === i ? buttonList.childNodes[i].style.background = "red" : buttonList.childNodes[i].style.background = "";
            });
        }
        selectTab(0);
    }
    asTabs(document.querySelector("#wrapper"));
</script>
</body>
</html>