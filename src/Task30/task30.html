<!DOCTYPE html>
<html>
<body>

<canvas width="400" height="400"></canvas>
<script>
    var cx = document.querySelector("canvas").getContext("2d");
    
    var lastTime = null;
    function frame(time) {
        if (lastTime != null) {
            updateAnimation(Math.min(100, time - lastTime) / 1000);
        }
        lastTime = time;
        requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
    
    var ball = {
        x: 50,
        y: 50
    };
    var rad = 20;
    var moveX = 100;
    var moveY = 60;

    function updateAnimation(step) {
        cx.clearRect(0, 0, 400, 400);
        cx.lineWidth = 5;
        cx.strokeRect(25, 25, 365, 365);
    
        if (ball.x > 390 - rad || ball.x < 25 + rad) {
            moveX = -moveX;
        }

        if (ball.y > 390 - rad || ball.y < 25 + rad) {
            moveY = -moveY;
        }
        ball.x += step *  moveX;
        ball.y += step * moveY;
        cx.beginPath();
        cx.fillStyle = 'red';
        cx.arc(ball.x, ball.y, rad, 0, Math.PI * 2);
        cx.fill();
        cx.closePath();
    }
</script>
</body>
</html>